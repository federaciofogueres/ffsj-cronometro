<div class="container p-3" *ngIf="!loading">
    <div class="row mb-3">
        <div class="col-6">
            <input class="form-control" type="text" placeholder="Filtrar asociaciones..." [(ngModel)]="filterText"
                (ngModelChange)="onFilterChange()" />
        </div>
        <div class="col-3">
            <select class="form-select" [(ngModel)]="statusFilter" (ngModelChange)="onStatusFilterChange()">
                <option value="all">Todas</option>
                <option value="active">Sólo activas</option>
                <option value="inactive">Sólo inactivas</option>
            </select>
        </div>
        <div class="col-3 text-end">
            <span class="badge bg-secondary">Página {{ currentPage }} / {{ totalPages }}</span>
        </div>
    </div>

    <div class="row" *ngFor="let asociacion of pagedAsociaciones">
        <div class="col">
            <p>
                {{asociacion.title}}
            </p>
        </div>
        <div class="col-5">
            <mat-icon aria-hidden="false" aria-label="Example home icon" fontIcon="check_box_outline_blank"
                (click)="checkAsociacion(asociacion)" *ngIf="!asociacion.checked"></mat-icon>
            <mat-icon aria-hidden="false" aria-label="Example home icon" fontIcon="check_box"
                (click)="checkAsociacion(asociacion)" *ngIf="asociacion.checked"></mat-icon>
        </div>
    </div>

    <!-- controles de paginación simples -->
    <div class="row mt-3">
        <div class="col-auto">
            <button class="btn btn-sm btn-outline-primary" [disabled]="currentPage === 1"
                (click)="prevPage()">Anterior</button>
        </div>
        <div class="col text-center">
            <!-- ya mostramos página arriba; aquí opcionalmente mostrar total elementos -->
            <small class="text-muted">{{ filteredAsociacionesShow.length }} asociaciones</small>
        </div>
        <div class="col-auto">
            <button class="btn btn-sm btn-outline-primary" [disabled]="currentPage === totalPages"
                (click)="nextPage()">Siguiente</button>
        </div>
    </div>
</div>
